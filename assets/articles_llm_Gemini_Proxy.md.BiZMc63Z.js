import{_ as o,C as s,c as i,o as n,j as e,G as r,ai as l,a as d}from"./chunks/framework.6CbiclxB.js";const y=JSON.parse('{"title":"Gemini-CLi & 实现代理","description":"","frontmatter":{"title":"Gemini-CLi & 实现代理"},"headers":[],"relativePath":"articles/llm/Gemini&Proxy.md","filePath":"articles/llm/Gemini&Proxy.md","lastUpdated":1768136749000}'),c={name:"articles/llm/Gemini&Proxy.md"};function p(h,t,g,m,b,u){const a=s("ArticleMetadata");return n(),i("div",null,[t[0]||(t[0]=e("h1",{id:"proxy",tabindex:"-1"},[d("Proxy "),e("a",{class:"header-anchor",href:"#proxy","aria-label":'Permalink to "Proxy"'},"​")],-1)),r(a),t[1]||(t[1]=l(`<h2 id="一、现象记录-v2ray-日志" tabindex="-1">一、现象记录（V2Ray 日志） <a class="header-anchor" href="#一、现象记录-v2ray-日志" aria-label="Permalink to &quot;一、现象记录（V2Ray 日志）&quot;">​</a></h2><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>2025/10/22 11:18:45 from 127.0.0.1 accepted //apis.google.com:443 [socks &gt;&gt; proxy]</span></span>
<span class="line"><span>2025/10/22 11:21:52 from 127.0.0.1 accepted //api.github.com:443 [socks &gt;&gt; proxy]</span></span>
<span class="line"><span>2025/10/22 11:23:58 from 127.0.0.1 accepted //edge.microsoft.com:443 [socks &gt;&gt; proxy]</span></span>
<span class="line"><span>...</span></span></code></pre></div><p>结论性事实：</p><ul><li>本地存在 <strong>SOCKS 入站端口池（8305~8600）</strong></li><li>日志中的端口是 <strong>本地临时入站端口</strong>，不是远程代理端口</li><li>真实出口仍统一经由 V2Ray 远程节点</li></ul><hr><h2 id="三、本地代理端口角色划分" tabindex="-1">三、本地代理端口角色划分 <a class="header-anchor" href="#三、本地代理端口角色划分" aria-label="Permalink to &quot;三、本地代理端口角色划分&quot;">​</a></h2><table tabindex="0"><thead><tr><th>端口</th><th>角色</th></tr></thead><tbody><tr><td><code>10808</code></td><td>本地 SOCKS 代理（V2RayN）</td></tr><tr><td><code>10809</code></td><td>本地 HTTP 代理</td></tr><tr><td><code>830x+</code></td><td>PAC / TUN / 内部转发临时端口</td></tr><tr><td><code>22008</code></td><td>远程服务器监听端口</td></tr></tbody></table><p><strong>重要规则：</strong></p><blockquote><p>应用程序 <strong>只能配置本地代理端口</strong>，永远不要直连 <code>22008</code></p></blockquote><hr><h2 id="四、gemini-cli-失效原因-结论版" tabindex="-1">四、Gemini CLI 失效原因（结论版） <a class="header-anchor" href="#四、gemini-cli-失效原因-结论版" aria-label="Permalink to &quot;四、Gemini CLI 失效原因（结论版）&quot;">​</a></h2><p>现象：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Error when talking to Gemini API</span></span></code></pre></div><p>原因链：</p><ol><li>Gemini CLI = Node.js 程序</li><li>默认 <strong>不读取系统代理 / PAC</strong></li><li><code>HTTP_PROXY</code> 对其 <strong>不生效</strong></li><li>实际请求未进入 <code>127.0.0.1:10808</code></li></ol><p>=&gt; <strong>请求直连，被墙，失败</strong></p><hr><p>通过设置代理环境变量</p><p>来设置流量控制处理</p>`,19))])}const _=o(c,[["render",p]]);export{y as __pageData,_ as default};
