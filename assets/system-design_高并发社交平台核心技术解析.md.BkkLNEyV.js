import{_ as t,C as e,c as n,o as l,j as i,G as h,ai as p,a as k}from"./chunks/framework.6CbiclxB.js";const F=JSON.parse('{"title":"高并发社交平台核心技术架构","description":"","frontmatter":{"title":"高并发社交平台核心技术架构"},"headers":[],"relativePath":"system-design/高并发社交平台核心技术解析.md","filePath":"system-design/高并发社交平台核心技术解析.md","lastUpdated":1768136749000}'),r={name:"system-design/高并发社交平台核心技术解析.md"};function d(E,s,o,g,c,y){const a=e("ArticleMetadata");return l(),n("div",null,[s[0]||(s[0]=i("h1",{id:"高并发社交平台核心技术架构-·-完整梳理",tabindex:"-1"},[k("高并发社交平台核心技术架构 · 完整梳理 "),i("a",{class:"header-anchor",href:"#高并发社交平台核心技术架构-·-完整梳理","aria-label":'Permalink to "高并发社交平台核心技术架构 · 完整梳理"'},"​")],-1)),h(a),s[1]||(s[1]=p(`<h2 id="一、统一网关鉴权-spring-cloud-gateway-sa-token" tabindex="-1">一、统一网关鉴权（Spring Cloud Gateway + Sa-Token） <a class="header-anchor" href="#一、统一网关鉴权-spring-cloud-gateway-sa-token" aria-label="Permalink to &quot;一、统一网关鉴权（Spring Cloud Gateway + Sa-Token）&quot;">​</a></h2><p><strong>核心设计思想</strong><br> 网关层统一拦截、校验、透传用户身份，下游服务无状态化、无需重复鉴权。</p><p><strong>关键实现</strong></p><ul><li>使用 <code>SaReactorFilter</code>（WebFlux 专用）实现全局鉴权过滤器</li><li>通过 <code>@Order(-100)</code> 确保最高优先级执行</li><li>白名单排除：<code>/auth/login</code>, <code>/auth/verify/code/send</code></li><li>登录校验：<code>StpUtil.checkLogin()</code></li><li>用户ID透传：<code>exchange.getRequest().mutate().header(&quot;x-user-id&quot;, userId).build()</code></li></ul><p><strong>Sa-Token 自定义权限接口</strong>（RBAC实现）</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> StpInterface</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 返回当前登录用户所拥有的全部权限码集合</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getPermissionList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Object </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">loginId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">loginType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 返回当前登录用户所拥有的全部角色集合</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getRoleList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Object </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">loginId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">loginType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>底层权限加载逻辑</strong>（Redis + JSON 批量查询）</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; roleKeys </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> objectMapper.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(redis.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userRolesKey), </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TypeReference&lt;&gt;() {});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; permissionKeys </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> roleKeys.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(RedisKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rolePerms).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; allPermsJson </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">opsForValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">multiGet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(permissionKeys);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; permissions </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> allPermsJson.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flatMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(json </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> objectMapper.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(json, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TypeReference&lt;List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt;(){}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">distinct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Collectors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span></code></pre></div><p><strong>结论</strong><br> 一次校验、全局生效、Header 透传 → 实现分布式无状态认证，极大降低下游服务复杂度。</p><h2 id="二、分布式id生成-美团-leaf" tabindex="-1">二、分布式ID生成（美团 Leaf） <a class="header-anchor" href="#二、分布式id生成-美团-leaf" aria-label="Permalink to &quot;二、分布式ID生成（美团 Leaf）&quot;">​</a></h2><p><strong>两种模式并存</strong></p><table tabindex="0"><thead><tr><th>模式</th><th>核心原理</th><th>优点</th><th>适用场景</th><th>吞吐量参考</th></tr></thead><tbody><tr><td>Segment</td><td>数据库号段预分配 + 双Buffer</td><td>高吞吐、无锁、趋势递增</td><td>主业务ID、订单号</td><td>单机 22k+/s</td></tr><tr><td>Snowflake</td><td>时间戳 + 机器ID + 序列号</td><td>完全去中心化、多机独立生成</td><td>日志ID、临时ID</td><td>单机更高</td></tr></tbody></table><p><strong>Segment 模式核心机制</strong>（双Buffer + 动态步长）</p><ul><li>双 SegmentBuffer（当前 + 预取）</li><li>后台单线程定时从 DB 加载备用段</li><li>动态步长调整（空闲时步长×2，繁忙时步长减半）</li><li>切换条件：当前段剩余 &lt; step × 0.9 → 切备用段</li></ul><p><strong>Snowflake 模式核心机制</strong>（Zookeeper 分配 workerId）</p><ul><li>结构：<code>[1bit符号][41bit时间戳][10bit机器ID][12bit序列号]</code></li><li>workerId 通过 Zookeeper 持久节点 <code>/snowflake/forever/ip:port-xxx</code> 分配</li><li>本地文件缓存 workerId（防止ZK不可用时服务无法启动）</li><li>时钟回拨处理：等待 + 随机序列号填充</li></ul><h2 id="三、短文本存储-apache-cassandra" tabindex="-1">三、短文本存储（Apache Cassandra） <a class="header-anchor" href="#三、短文本存储-apache-cassandra" aria-label="Permalink to &quot;三、短文本存储（Apache Cassandra）&quot;">​</a></h2><p><strong>宽表模型设计</strong>（以笔记评论为例）</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> comment_content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    note_id         </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bigint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    year_month      </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    content_id      uuid,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    content         </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    create_time     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">timestamp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    PRIMARY KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((note_id, year_month), content_id)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WITH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CLUSTERING </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (content_id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ASC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p><strong>联合分区键设计目的</strong></p><ul><li>note_id + year_month 作为复合分区键</li><li>解决单分区过大 → 数据倾斜</li><li>按月分区 → 便于归档、清理冷数据</li></ul><p><strong>批量操作特点</strong></p><ul><li>批量插入：<code>cassandraTemplate.batchOps().insert(list).execute()</code></li><li>批量查询：<code>findByNoteIdAndYearMonthInAndContentIdIn(...)</code></li><li>无事务支持 → 依赖业务补偿或幂等设计</li></ul><h2 id="四、笔记详情查询性能优化-completablefuture-双级缓存-mq广播" tabindex="-1">四、笔记详情查询性能优化（CompletableFuture + 双级缓存 + MQ广播） <a class="header-anchor" href="#四、笔记详情查询性能优化-completablefuture-双级缓存-mq广播" aria-label="Permalink to &quot;四、笔记详情查询性能优化（CompletableFuture + 双级缓存 + MQ广播）&quot;">​</a></h2><p><strong>核心流程</strong></p><ol><li>本地 Caffeine Cache 最高优先级（最快）</li><li>Redis 共享缓存（跨实例一致）</li><li>数据库 + RPC 并行查询（CompletableFuture）</li><li>结果异步回写 Redis + 本地缓存（随机过期打散）</li><li>更新/删除时 RocketMQ 广播 → 各节点延迟双删本地缓存</li></ol><p><strong>关键设计点</strong></p><ul><li>异步并行 RPC：笔记 → 用户 → 内容</li><li>防缓存雪崩：基础过期时间 + 随机秒数</li><li>最终一致性：MQ广播 + 延迟双删</li></ul><h2 id="五、点赞高并发写优化-redis-bloomfilter-zset-rocketmq-ratelimiter" tabindex="-1">五、点赞高并发写优化（Redis BloomFilter + ZSET + RocketMQ + RateLimiter） <a class="header-anchor" href="#五、点赞高并发写优化-redis-bloomfilter-zset-rocketmq-ratelimiter" aria-label="Permalink to &quot;五、点赞高并发写优化（Redis BloomFilter + ZSET + RocketMQ + RateLimiter）&quot;">​</a></h2><p><strong>防重复点赞</strong>：Redis BloomFilter + Roaring Bitmap<br><strong>点赞记录</strong>：<code>zadd like:user:{userId} {timestamp} {noteId}</code><br><strong>削峰落库</strong>：MQ异步 → RateLimiter限流 → 批量插入<br><strong>幂等合并</strong>：消费端按 userId + noteId 分组 → 只保留最后一次操作（奇偶过滤）</p><p><strong>批量落库 SQL</strong>（MyBatis）</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">insert</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;batchInsertOrUpdate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    INSERT INTO t_note_like (user_id, note_id, status, create_time)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    VALUES</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">foreach</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> collection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;list&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;item&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> separator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;,&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (#{item.userId}, #{item.noteId}, #{item.status}, #{item.createTime})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">foreach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ON DUPLICATE KEY UPDATE status = VALUES(status)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">insert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="六、计数聚合与流量削峰-rocketmq-buffertrigger-redis" tabindex="-1">六、计数聚合与流量削峰（RocketMQ + BufferTrigger + Redis） <a class="header-anchor" href="#六、计数聚合与流量削峰-rocketmq-buffertrigger-redis" aria-label="Permalink to &quot;六、计数聚合与流量削峰（RocketMQ + BufferTrigger + Redis）&quot;">​</a></h2><p><strong>核心链路</strong></p><ol><li>业务操作 → 发 MQ（关注/点赞等）</li><li>消费者接收 → BufferTrigger 聚合（1000条/批 or 1s）</li><li>聚合后批量 increment Redis Hash（原子性）</li><li>定时/定量批量刷库（RateLimiter限流）</li></ol><p><strong>BufferTrigger 关键能力</strong></p><ul><li>内存缓冲 + 批量触发（大小/时间/手动）</li><li>simple（非阻塞） vs batchBlocking（阻塞、有序、限流）</li><li>生产推荐：<strong>batchBlocking</strong></li></ul><p><strong>总结一句话</strong><br> 高并发写 → 先写内存聚合 → Redis 原子计数 → 异步削峰落库 → 最终一致性</p><h2 id="七、整体架构技术选型对比" tabindex="-1">七、整体架构技术选型对比 <a class="header-anchor" href="#七、整体架构技术选型对比" aria-label="Permalink to &quot;七、整体架构技术选型对比&quot;">​</a></h2><table tabindex="0"><thead><tr><th>领域</th><th>技术选型</th><th>核心优势</th><th>主要解决的问题</th></tr></thead><tbody><tr><td>网关鉴权</td><td>Spring Cloud Gateway + Sa-Token</td><td>统一入口、Header透传、无状态下游</td><td>重复认证、耦合度高</td></tr><tr><td>分布式ID</td><td>美团 Leaf (Segment + Snowflake)</td><td>高吞吐、趋势递增、容灾</td><td>全局唯一ID生成瓶颈</td></tr><tr><td>长文本/短文本</td><td>Cassandra</td><td>海量宽表、高可用、水平扩展</td><td>亿级评论/笔记内容存储</td></tr><tr><td>高并发点赞</td><td>Redis Bloom + ZSET + MQ + Rate</td><td>防重、削峰、幂等合并</td><td>点赞写库压力</td></tr><tr><td>计数聚合</td><td>BufferTrigger + Redis Hash + MQ</td><td>聚合写、原子计数、最终一致性</td><td>高频计数写库崩溃</td></tr><tr><td>缓存一致性</td><td>二级缓存 + MQ广播延迟双删</td><td>读性能极致、写最终一致</td><td>缓存与数据库不一致</td></tr></tbody></table><p><strong>架构指导思想</strong><br> “<strong>先写内存 → 聚合批量 → 异步削峰 → 最终一致</strong>”<br> 是整个高并发社交平台最核心的性能与稳定性平衡之道。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span></span></span></code></pre></div>`,42))])}const m=t(r,[["render",d]]);export{F as __pageData,m as default};
